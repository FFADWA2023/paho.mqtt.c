<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Paho Asynchronous MQTT C Client Library: MQTTClient.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="pahologo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Paho Asynchronous MQTT C Client Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_43e0a1f539e00dcfa1a6bc4d4fee4fc2.html">home</a></li><li class="navelem"><a class="el" href="dir_57cf5deee3e75679b18177788ec554ea.html">fadwaj</a></li><li class="navelem"><a class="el" href="dir_4bcf022054d1459e4e7c17169b8f3e8a.html">paho.mqtt.c</a></li><li class="navelem"><a class="el" href="dir_146a14bc394ddb4d70da0b7615890fc5.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">MQTTClient.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Synchronous API implementation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/time.h&gt;</code><br />
<code>#include &quot;<a class="el" href="_m_q_t_t_client_8h_source.html">MQTTClient.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_m_q_t_t_persistence_8h_source.html">MQTTPersistence.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utf-8_8h_source.html">utf-8.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_m_q_t_t_protocol_8h_source.html">MQTTProtocol.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_m_q_t_t_protocol_out_8h_source.html">MQTTProtocolOut.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_thread_8h_source.html">Thread.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_socket_buffer_8h_source.html">SocketBuffer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_stack_trace_8h_source.html">StackTrace.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_heap_8h_source.html">Heap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_os_wrapper_8h_source.html">OsWrapper.h</a>&quot;</code><br />
<code>#include &quot;VersionInfo.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structq_entry.html">qEntry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_m_q_t_t_clients.html">MQTTClients</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a369266c24eacffb87046522897a570d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a369266c24eacffb87046522897a570d5">_GNU_SOURCE</a>&#160;&#160;&#160;/* for pthread_mutexattr_settype */</td></tr>
<tr class="separator:a369266c24eacffb87046522897a570d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62b7ecff86a928a545160725cc9e2430"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a62b7ecff86a928a545160725cc9e2430">URI_SSL</a>&#160;&#160;&#160;&quot;ssl://&quot;</td></tr>
<tr class="separator:a62b7ecff86a928a545160725cc9e2430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff8054f166c9eb81b4e7695bc7f1ec79"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#aff8054f166c9eb81b4e7695bc7f1ec79">URI_TCP</a>&#160;&#160;&#160;&quot;tcp://&quot;</td></tr>
<tr class="separator:aff8054f166c9eb81b4e7695bc7f1ec79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aa60e1ead64be77ad551e745cbfd4d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a></td></tr>
<tr class="separator:a9aa60e1ead64be77ad551e745cbfd4d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a7218845c1bc4a4eab72fc0cc7395d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a0a7218845c1bc4a4eab72fc0cc7395d5">START_TIME_TYPE</a>&#160;&#160;&#160;struct timeval</td></tr>
<tr class="separator:a0a7218845c1bc4a4eab72fc0cc7395d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48e5d65228327c5f6ad9503b0a72db32"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a48e5d65228327c5f6ad9503b0a72db32">MAX_INFO_STRINGS</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a48e5d65228327c5f6ad9503b0a72db32"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a21804ede1a506d1d69a472bc30acc8ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a21804ede1a506d1d69a472bc30acc8ba">MQTTClient_global_init</a> (<a class="el" href="struct_m_q_t_t_client__init__options.html">MQTTClient_init_options</a> *inits)</td></tr>
<tr class="separator:a21804ede1a506d1d69a472bc30acc8ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a264e288458cea15a5bb81877d3a9ac82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a264e288458cea15a5bb81877d3a9ac82">MQTTClient_init</a> (void)</td></tr>
<tr class="separator:a264e288458cea15a5bb81877d3a9ac82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a744d25e5d68e95695414cd70000a74fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a744d25e5d68e95695414cd70000a74fe">MQTTClient_sleep</a> (long milliseconds)</td></tr>
<tr class="separator:a744d25e5d68e95695414cd70000a74fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe6965b56d831f0d9d61714e46e23fe5"><td class="memItemLeft" align="right" valign="top">struct timeval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#afe6965b56d831f0d9d61714e46e23fe5">MQTTClient_start_clock</a> (void)</td></tr>
<tr class="separator:afe6965b56d831f0d9d61714e46e23fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f14c4bc522e956192a42d414c638e0"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#af4f14c4bc522e956192a42d414c638e0">MQTTClient_elapsed</a> (struct timeval start)</td></tr>
<tr class="separator:af4f14c4bc522e956192a42d414c638e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a0518d9ca924d12c1329dbe3de5f2b6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a9a0518d9ca924d12c1329dbe3de5f2b6">MQTTClient_create</a> (<a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> *handle, const char *serverURI, const char *clientId, int persistence_type, void *persistence_context)</td></tr>
<tr class="separator:a9a0518d9ca924d12c1329dbe3de5f2b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae700c3f5cfea3813264ce95e7c8cf498"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#ae700c3f5cfea3813264ce95e7c8cf498">MQTTClient_destroy</a> (<a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> *handle)</td></tr>
<tr class="separator:ae700c3f5cfea3813264ce95e7c8cf498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bc00ce11e0cac5dbc0938c512b4ab31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a2bc00ce11e0cac5dbc0938c512b4ab31">MQTTClient_freeMessage</a> (<a class="el" href="struct_m_q_t_t_client__message.html">MQTTClient_message</a> **message)</td></tr>
<tr class="separator:a2bc00ce11e0cac5dbc0938c512b4ab31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab217acbfaf47603355ca430983f93095"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#ab217acbfaf47603355ca430983f93095">MQTTClient_free</a> (void *memory)</td></tr>
<tr class="separator:ab217acbfaf47603355ca430983f93095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad27d07782991a4937ebf2f39a021f83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#aad27d07782991a4937ebf2f39a021f83">MQTTClient_setCallbacks</a> (<a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> handle, void *context, <a class="el" href="_m_q_t_t_client_8h.html#a6bb253f16754e7cc81798c9fda0e36cf">MQTTClient_connectionLost</a> *cl, <a class="el" href="_m_q_t_t_client_8h.html#aa42130dd069e7e949bcab37b6dce64a5">MQTTClient_messageArrived</a> *ma, <a class="el" href="_m_q_t_t_client_8h.html#abef83794d8252551ed248cde6eb845a6">MQTTClient_deliveryComplete</a> *dc)</td></tr>
<tr class="separator:aad27d07782991a4937ebf2f39a021f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d00dff0a0ba071896a8250e320dbdbb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a6d00dff0a0ba071896a8250e320dbdbb">Protocol_processPublication</a> (<a class="el" href="struct_publish.html">Publish</a> *publish, <a class="el" href="struct_clients.html">Clients</a> *client)</td></tr>
<tr class="separator:a6d00dff0a0ba071896a8250e320dbdbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa8ae61cd65c9dc0846df10122d7bd4e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#aaa8ae61cd65c9dc0846df10122d7bd4e">MQTTClient_connect</a> (<a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> handle, <a class="el" href="struct_m_q_t_t_client__connect_options.html">MQTTClient_connectOptions</a> *options)</td></tr>
<tr class="separator:aaa8ae61cd65c9dc0846df10122d7bd4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f7b0789ff9ca9ded72dbad2e747b333"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a9f7b0789ff9ca9ded72dbad2e747b333">MQTTProtocol_closeSession</a> (<a class="el" href="struct_clients.html">Clients</a> *c, int sendwill)</td></tr>
<tr class="separator:a9f7b0789ff9ca9ded72dbad2e747b333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e4d90c13a3c0705bc4a13bfe64e6525"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a1e4d90c13a3c0705bc4a13bfe64e6525">MQTTClient_disconnect</a> (<a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> handle, int timeout)</td></tr>
<tr class="separator:a1e4d90c13a3c0705bc4a13bfe64e6525"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e8231e8c47f6f67f7ebbb5dcb4c69c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a6e8231e8c47f6f67f7ebbb5dcb4c69c0">MQTTClient_isConnected</a> (<a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> handle)</td></tr>
<tr class="separator:a6e8231e8c47f6f67f7ebbb5dcb4c69c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92fa1c13f3db8399e042fbdbdfb692b3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a92fa1c13f3db8399e042fbdbdfb692b3">MQTTClient_subscribeMany</a> (<a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> handle, int count, char *const *topic, int *qos)</td></tr>
<tr class="separator:a92fa1c13f3db8399e042fbdbdfb692b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c1c28258f0d5c6a44ff53a98618f5f3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a9c1c28258f0d5c6a44ff53a98618f5f3">MQTTClient_subscribe</a> (<a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> handle, const char *topic, int qos)</td></tr>
<tr class="separator:a9c1c28258f0d5c6a44ff53a98618f5f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50abbce720d50b9f84b97ff9fa1f546d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a50abbce720d50b9f84b97ff9fa1f546d">MQTTClient_unsubscribeMany</a> (<a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> handle, int count, char *const *topic)</td></tr>
<tr class="separator:a50abbce720d50b9f84b97ff9fa1f546d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8731be3dbc6a25f41f037f8bbbb054b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#aa8731be3dbc6a25f41f037f8bbbb054b">MQTTClient_unsubscribe</a> (<a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> handle, const char *topic)</td></tr>
<tr class="separator:aa8731be3dbc6a25f41f037f8bbbb054b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff2dede68d660c4b6e27821669f952a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#aff2dede68d660c4b6e27821669f952a0">MQTTClient_publish</a> (<a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> handle, const char *topicName, int payloadlen, void *payload, int qos, int retained, <a class="el" href="_m_q_t_t_client_8h.html#a73e49030fd8b7074aa1aa45669b7fe8d">MQTTClient_deliveryToken</a> *deliveryToken)</td></tr>
<tr class="separator:aff2dede68d660c4b6e27821669f952a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e0cfa14237d7557bee2a59747ecadd3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a5e0cfa14237d7557bee2a59747ecadd3">MQTTClient_publishMessage</a> (<a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> handle, const char *topicName, <a class="el" href="struct_m_q_t_t_client__message.html">MQTTClient_message</a> *message, <a class="el" href="_m_q_t_t_client_8h.html#a73e49030fd8b7074aa1aa45669b7fe8d">MQTTClient_deliveryToken</a> *deliveryToken)</td></tr>
<tr class="separator:a5e0cfa14237d7557bee2a59747ecadd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c2df88d00a3dadd510a8cb774739366"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a4c2df88d00a3dadd510a8cb774739366">MQTTClient_receive</a> (<a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> handle, char **topicName, int *topicLen, <a class="el" href="struct_m_q_t_t_client__message.html">MQTTClient_message</a> **message, unsigned long timeout)</td></tr>
<tr class="separator:a4c2df88d00a3dadd510a8cb774739366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ad3d29864a9ca08202b0832e0f6678e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a8ad3d29864a9ca08202b0832e0f6678e">MQTTClient_yield</a> (void)</td></tr>
<tr class="separator:a8ad3d29864a9ca08202b0832e0f6678e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8786efdd6c3a50c6ca33cfb5d8fc283"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#ab8786efdd6c3a50c6ca33cfb5d8fc283">MQTTClient_waitForCompletion</a> (<a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> handle, <a class="el" href="_m_q_t_t_client_8h.html#a73e49030fd8b7074aa1aa45669b7fe8d">MQTTClient_deliveryToken</a> mdt, unsigned long timeout)</td></tr>
<tr class="separator:ab8786efdd6c3a50c6ca33cfb5d8fc283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a617c6b0492c04a4ddea592f5e53604"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a2a617c6b0492c04a4ddea592f5e53604">MQTTClient_getPendingDeliveryTokens</a> (<a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> handle, <a class="el" href="_m_q_t_t_client_8h.html#a73e49030fd8b7074aa1aa45669b7fe8d">MQTTClient_deliveryToken</a> **tokens)</td></tr>
<tr class="separator:a2a617c6b0492c04a4ddea592f5e53604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe842456c914ce9201d277a972cc085e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_m_q_t_t_client__name_value.html">MQTTClient_nameValue</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#abe842456c914ce9201d277a972cc085e">MQTTClient_getVersionInfo</a> (void)</td></tr>
<tr class="separator:abe842456c914ce9201d277a972cc085e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a002f05835324a6cbd270ff94de6be02e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a002f05835324a6cbd270ff94de6be02e">client_timestamp_eye</a> = &quot;MQTTClientV3_Timestamp &quot; BUILD_TIMESTAMP</td></tr>
<tr class="separator:a002f05835324a6cbd270ff94de6be02e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e5c55b41667da1b47178c4a0997628c"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a9e5c55b41667da1b47178c4a0997628c">client_version_eye</a> = &quot;MQTTClientV3_Version &quot; CLIENT_VERSION</td></tr>
<tr class="separator:a9e5c55b41667da1b47178c4a0997628c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f44b42678b96ba591f6042671e3ba6b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_client_states.html">ClientStates</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a2f44b42678b96ba591f6042671e3ba6b">bstate</a> = &amp;ClientState</td></tr>
<tr class="separator:a2f44b42678b96ba591f6042671e3ba6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dc95966878cf339e99ab7f7d1f7cc82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_m_q_t_t_protocol.html">MQTTProtocol</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_q_t_t_client_8c.html#a2dc95966878cf339e99ab7f7d1f7cc82">state</a></td></tr>
<tr class="separator:a2dc95966878cf339e99ab7f7d1f7cc82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Synchronous API implementation. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a369266c24eacffb87046522897a570d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a369266c24eacffb87046522897a570d5">&#9670;&nbsp;</a></span>_GNU_SOURCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _GNU_SOURCE&#160;&#160;&#160;/* for pthread_mutexattr_settype */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a62b7ecff86a928a545160725cc9e2430"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62b7ecff86a928a545160725cc9e2430">&#9670;&nbsp;</a></span>URI_SSL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define URI_SSL&#160;&#160;&#160;&quot;ssl://&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aff8054f166c9eb81b4e7695bc7f1ec79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff8054f166c9eb81b4e7695bc7f1ec79">&#9670;&nbsp;</a></span>URI_TCP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define URI_TCP&#160;&#160;&#160;&quot;tcp://&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9aa60e1ead64be77ad551e745cbfd4d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aa60e1ead64be77ad551e745cbfd4d3">&#9670;&nbsp;</a></span>WINAPI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WINAPI</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0a7218845c1bc4a4eab72fc0cc7395d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a7218845c1bc4a4eab72fc0cc7395d5">&#9670;&nbsp;</a></span>START_TIME_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define START_TIME_TYPE&#160;&#160;&#160;struct timeval</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a48e5d65228327c5f6ad9503b0a72db32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48e5d65228327c5f6ad9503b0a72db32">&#9670;&nbsp;</a></span>MAX_INFO_STRINGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_INFO_STRINGS&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a21804ede1a506d1d69a472bc30acc8ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21804ede1a506d1d69a472bc30acc8ba">&#9670;&nbsp;</a></span>MQTTClient_global_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MQTTClient_global_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_m_q_t_t_client__init__options.html">MQTTClient_init_options</a> *&#160;</td>
          <td class="paramname"><em>inits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Global init of mqtt library. Call once on program start to set global behaviour. do_openssl_init - if mqtt library should initialize OpenSSL (1) or rely on the caller to do it before using the library (0) </p>

</div>
</div>
<a id="a264e288458cea15a5bb81877d3a9ac82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a264e288458cea15a5bb81877d3a9ac82">&#9670;&nbsp;</a></span>MQTTClient_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MQTTClient_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a744d25e5d68e95695414cd70000a74fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a744d25e5d68e95695414cd70000a74fe">&#9670;&nbsp;</a></span>MQTTClient_sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MQTTClient_sleep </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>milliseconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afe6965b56d831f0d9d61714e46e23fe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe6965b56d831f0d9d61714e46e23fe5">&#9670;&nbsp;</a></span>MQTTClient_start_clock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct timeval MQTTClient_start_clock </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af4f14c4bc522e956192a42d414c638e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4f14c4bc522e956192a42d414c638e0">&#9670;&nbsp;</a></span>MQTTClient_elapsed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long MQTTClient_elapsed </td>
          <td>(</td>
          <td class="paramtype">struct timeval&#160;</td>
          <td class="paramname"><em>start</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9a0518d9ca924d12c1329dbe3de5f2b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a0518d9ca924d12c1329dbe3de5f2b6">&#9670;&nbsp;</a></span>MQTTClient_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTClient_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>serverURI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>persistence_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>persistence_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function creates an MQTT client ready for connection to the specified server and using the specified persistent storage (see <a class="el" href="struct_m_q_t_t_client__persistence.html" title="A structure containing the function pointers to a persistence implementation and the context or state...">MQTTClient_persistence</a>). See also <a class="el" href="_m_q_t_t_client_8h.html#af4029160da58c75dfc23a94a706786e7">MQTTClient_destroy()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A pointer to an <a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> handle. The handle is populated with a valid client reference following a successful return from this function. </td></tr>
    <tr><td class="paramname">serverURI</td><td>A null-terminated string specifying the server to which the client will connect. It takes the form <em>protocol://host:port</em>. Currently, <em>protocol</em> must be <em>tcp</em> or <em>ssl</em>. For <em>host</em>, you can specify either an IP address or a host name. For instance, to connect to a server running on the local machines with the default MQTT port, specify <em>tcp://localhost:1883</em>. </td></tr>
    <tr><td class="paramname">clientId</td><td>The client identifier passed to the server when the client connects to it. It is a null-terminated UTF-8 encoded string. </td></tr>
    <tr><td class="paramname">persistence_type</td><td>The type of persistence to be used by the client: <br  />
 <a class="el" href="_m_q_t_t_client_persistence_8h.html#ae01e089313a65ac4661ed216b6ac00fa">MQTTCLIENT_PERSISTENCE_NONE</a>: Use in-memory persistence. If the device or system on which the client is running fails or is switched off, the current state of any in-flight messages is lost and some messages may not be delivered even at QoS1 and QoS2. <br  />
 <a class="el" href="_m_q_t_t_client_persistence_8h.html#aaa948291718a9c06369b854b0f64bc32">MQTTCLIENT_PERSISTENCE_DEFAULT</a>: Use the default (file system-based) persistence mechanism. Status about in-flight messages is held in persistent storage and provides some protection against message loss in the case of unexpected failure. <br  />
 <a class="el" href="_m_q_t_t_client_persistence_8h.html#a5dc68b8616e4041e037bad94ce07681b">MQTTCLIENT_PERSISTENCE_USER</a>: Use an application-specific persistence implementation. Using this type of persistence gives control of the persistence mechanism to the application. The application has to implement the <a class="el" href="struct_m_q_t_t_client__persistence.html" title="A structure containing the function pointers to a persistence implementation and the context or state...">MQTTClient_persistence</a> interface. </td></tr>
    <tr><td class="paramname">persistence_context</td><td>If the application uses <a class="el" href="_m_q_t_t_client_persistence_8h.html#ae01e089313a65ac4661ed216b6ac00fa">MQTTCLIENT_PERSISTENCE_NONE</a> persistence, this argument is unused and should be set to NULL. For <a class="el" href="_m_q_t_t_client_persistence_8h.html#aaa948291718a9c06369b854b0f64bc32">MQTTCLIENT_PERSISTENCE_DEFAULT</a> persistence, it should be set to the location of the persistence directory (if set to NULL, the persistence directory used is the working directory). Applications that use <a class="el" href="_m_q_t_t_client_persistence_8h.html#a5dc68b8616e4041e037bad94ce07681b">MQTTCLIENT_PERSISTENCE_USER</a> persistence set this argument to point to a valid <a class="el" href="struct_m_q_t_t_client__persistence.html" title="A structure containing the function pointers to a persistence implementation and the context or state...">MQTTClient_persistence</a> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_m_q_t_t_client_8h.html#acba095704d79e5a1996389fa26203f73">MQTTCLIENT_SUCCESS</a> if the client is successfully created, otherwise an error code is returned. </dd></dl>

</div>
</div>
<a id="ae700c3f5cfea3813264ce95e7c8cf498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae700c3f5cfea3813264ce95e7c8cf498">&#9670;&nbsp;</a></span>MQTTClient_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MQTTClient_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function frees the memory allocated to an MQTT client (see <a class="el" href="_m_q_t_t_client_8h.html#aa7a557bf48735205a0fb137468576764">MQTTClient_create()</a>). It should be called when the client is no longer required. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A pointer to the handle referring to the <a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a> structure to be freed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2bc00ce11e0cac5dbc0938c512b4ab31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bc00ce11e0cac5dbc0938c512b4ab31">&#9670;&nbsp;</a></span>MQTTClient_freeMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MQTTClient_freeMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_m_q_t_t_client__message.html">MQTTClient_message</a> **&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function frees memory allocated to an MQTT message, including the additional memory allocated to the message payload. The client application calls this function when the message has been fully processed. <b>Important note:</b> This function does not free the memory allocated to a message topic string. It is the responsibility of the client application to free this memory using the <a class="el" href="_m_q_t_t_client_8h.html#abd5214836cb7857a0dba6e20e99ef35a">MQTTClient_free()</a> library function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The address of a pointer to the <a class="el" href="struct_m_q_t_t_client__message.html">MQTTClient_message</a> structure to be freed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab217acbfaf47603355ca430983f93095"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab217acbfaf47603355ca430983f93095">&#9670;&nbsp;</a></span>MQTTClient_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MQTTClient_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function frees memory allocated by the MQTT C client library, especially the topic name. This is needed on Windows when the client libary and application program have been compiled with different versions of the C compiler. It is thus good policy to always use this function when freeing any MQTT C client- allocated memory. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>The pointer to the client library storage to be freed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aad27d07782991a4937ebf2f39a021f83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad27d07782991a4937ebf2f39a021f83">&#9670;&nbsp;</a></span>MQTTClient_setCallbacks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTClient_setCallbacks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a6bb253f16754e7cc81798c9fda0e36cf">MQTTClient_connectionLost</a> *&#160;</td>
          <td class="paramname"><em>cl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#aa42130dd069e7e949bcab37b6dce64a5">MQTTClient_messageArrived</a> *&#160;</td>
          <td class="paramname"><em>ma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#abef83794d8252551ed248cde6eb845a6">MQTTClient_deliveryComplete</a> *&#160;</td>
          <td class="paramname"><em>dc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function sets the callback functions for a specific client. If your client application doesn't use a particular callback, set the relevant parameter to NULL. Calling <a class="el" href="_m_q_t_t_client_8h.html#ab0d69ca03e618ccff0f175c3862d009b">MQTTClient_setCallbacks()</a> puts the client into multi-threaded mode. Any necessary message acknowledgements and status communications are handled in the background without any intervention from the client application. See <a class="el" href="async.html">Threading</a> for more information.</p>
<p><b>Note:</b> The MQTT client must be disconnected when this function is called. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A valid client handle from a successful call to <a class="el" href="_m_q_t_t_client_8h.html#aa7a557bf48735205a0fb137468576764">MQTTClient_create()</a>. </td></tr>
    <tr><td class="paramname">context</td><td>A pointer to any application-specific context. The the <em>context</em> pointer is passed to each of the callback functions to provide access to the context information in the callback. </td></tr>
    <tr><td class="paramname">cl</td><td>A pointer to an <a class="el" href="_m_q_t_t_client_8h.html#a6bb253f16754e7cc81798c9fda0e36cf">MQTTClient_connectionLost()</a> callback function. You can set this to NULL if your application doesn't handle disconnections. </td></tr>
    <tr><td class="paramname">ma</td><td>A pointer to an <a class="el" href="_m_q_t_t_client_8h.html#aa42130dd069e7e949bcab37b6dce64a5">MQTTClient_messageArrived()</a> callback function. This callback function must be specified when you call <a class="el" href="_m_q_t_t_client_8h.html#ab0d69ca03e618ccff0f175c3862d009b">MQTTClient_setCallbacks()</a>. </td></tr>
    <tr><td class="paramname">dc</td><td>A pointer to an <a class="el" href="_m_q_t_t_client_8h.html#abef83794d8252551ed248cde6eb845a6">MQTTClient_deliveryComplete()</a> callback function. You can set this to NULL if your application publishes synchronously or if you do not want to check for successful delivery. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_m_q_t_t_client_8h.html#acba095704d79e5a1996389fa26203f73">MQTTCLIENT_SUCCESS</a> if the callbacks were correctly set, <a class="el" href="_m_q_t_t_client_8h.html#af33a6d6c0e8a6a747bf39638e0bba36b">MQTTCLIENT_FAILURE</a> if an error occurred. </dd></dl>

</div>
</div>
<a id="a6d00dff0a0ba071896a8250e320dbdbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d00dff0a0ba071896a8250e320dbdbb">&#9670;&nbsp;</a></span>Protocol_processPublication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Protocol_processPublication </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_publish.html">Publish</a> *&#160;</td>
          <td class="paramname"><em>publish</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_clients.html">Clients</a> *&#160;</td>
          <td class="paramname"><em>client</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aaa8ae61cd65c9dc0846df10122d7bd4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa8ae61cd65c9dc0846df10122d7bd4e">&#9670;&nbsp;</a></span>MQTTClient_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTClient_connect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_m_q_t_t_client__connect_options.html">MQTTClient_connectOptions</a> *&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function attempts to connect a previously-created client (see <a class="el" href="_m_q_t_t_client_8h.html#aa7a557bf48735205a0fb137468576764">MQTTClient_create()</a>) to an MQTT server using the specified options. If you want to enable asynchronous message and status notifications, you must call <a class="el" href="_m_q_t_t_client_8h.html#ab0d69ca03e618ccff0f175c3862d009b">MQTTClient_setCallbacks()</a> prior to <a class="el" href="_m_q_t_t_client_8h.html#a096b8153668ce1fde395e348abe2cfdd">MQTTClient_connect()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A valid client handle from a successful call to <a class="el" href="_m_q_t_t_client_8h.html#aa7a557bf48735205a0fb137468576764">MQTTClient_create()</a>. </td></tr>
    <tr><td class="paramname">options</td><td>A pointer to a valid <a class="el" href="struct_m_q_t_t_client__connect_options.html">MQTTClient_connectOptions</a> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_m_q_t_t_client_8h.html#acba095704d79e5a1996389fa26203f73">MQTTCLIENT_SUCCESS</a> if the client successfully connects to the server. An error code is returned if the client was unable to connect to the server. Error codes greater than 0 are returned by the MQTT protocol:<br  />
<br  />
 <b>1</b>: Connection refused: Unacceptable protocol version<br  />
 <b>2</b>: Connection refused: Identifier rejected<br  />
 <b>3</b>: Connection refused: Server unavailable<br  />
 <b>4</b>: Connection refused: Bad user name or password<br  />
 <b>5</b>: Connection refused: Not authorized<br  />
 <b>6-255</b>: Reserved for future use<br  />
 </dd></dl>

</div>
</div>
<a id="a9f7b0789ff9ca9ded72dbad2e747b333"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f7b0789ff9ca9ded72dbad2e747b333">&#9670;&nbsp;</a></span>MQTTProtocol_closeSession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MQTTProtocol_closeSession </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_clients.html">Clients</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sendwill</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>mqttclient_mutex must be locked when you call this function, if multi threaded </p>

</div>
</div>
<a id="a1e4d90c13a3c0705bc4a13bfe64e6525"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e4d90c13a3c0705bc4a13bfe64e6525">&#9670;&nbsp;</a></span>MQTTClient_disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTClient_disconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function attempts to disconnect the client from the MQTT server. In order to allow the client time to complete handling of messages that are in-flight when this function is called, a timeout period is specified. When the timeout period has expired, the client disconnects even if there are still outstanding message acknowledgements. The next time the client connects to the same server, any QoS 1 or 2 messages which have not completed will be retried depending on the cleansession settings for both the previous and the new connection (see <a class="el" href="struct_m_q_t_t_client__connect_options.html#a036c36a2a4d3a3ffae9ab4dd8b3e7f7b">MQTTClient_connectOptions.cleansession</a> and <a class="el" href="_m_q_t_t_client_8h.html#a096b8153668ce1fde395e348abe2cfdd">MQTTClient_connect()</a>). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A valid client handle from a successful call to <a class="el" href="_m_q_t_t_client_8h.html#aa7a557bf48735205a0fb137468576764">MQTTClient_create()</a>. </td></tr>
    <tr><td class="paramname">timeout</td><td>The client delays disconnection for up to this time (in milliseconds) in order to allow in-flight message transfers to complete. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_m_q_t_t_client_8h.html#acba095704d79e5a1996389fa26203f73">MQTTCLIENT_SUCCESS</a> if the client successfully disconnects from the server. An error code is returned if the client was unable to disconnect from the server </dd></dl>

</div>
</div>
<a id="a6e8231e8c47f6f67f7ebbb5dcb4c69c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e8231e8c47f6f67f7ebbb5dcb4c69c0">&#9670;&nbsp;</a></span>MQTTClient_isConnected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTClient_isConnected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function allows the client application to test whether or not a client is currently connected to the MQTT server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A valid client handle from a successful call to <a class="el" href="_m_q_t_t_client_8h.html#aa7a557bf48735205a0fb137468576764">MQTTClient_create()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean true if the client is connected, otherwise false. </dd></dl>

</div>
</div>
<a id="a92fa1c13f3db8399e042fbdbdfb692b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92fa1c13f3db8399e042fbdbdfb692b3">&#9670;&nbsp;</a></span>MQTTClient_subscribeMany()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTClient_subscribeMany </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *const *&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>qos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function attempts to subscribe a client to a list of topics, which may contain wildcards (see <a class="el" href="wildcard.html">Subscription wildcards</a>). This call also specifies the <a class="el" href="qos.html">Quality of service</a> requested for each topic (see also <a class="el" href="_m_q_t_t_client_8h.html#a18a65235da11562623528ccc901104b3">MQTTClient_subscribe()</a>). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A valid client handle from a successful call to <a class="el" href="_m_q_t_t_client_8h.html#aa7a557bf48735205a0fb137468576764">MQTTClient_create()</a>. </td></tr>
    <tr><td class="paramname">count</td><td>The number of topics for which the client is requesting subscriptions. </td></tr>
    <tr><td class="paramname">topic</td><td>An array (of length <em>count</em>) of pointers to topics, each of which may include wildcards. </td></tr>
    <tr><td class="paramname">qos</td><td>An array (of length <em>count</em>) of <a class="el" href="qos.html">Quality of service</a> values. qos[n] is the requested QoS for topic[n]. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_m_q_t_t_client_8h.html#acba095704d79e5a1996389fa26203f73">MQTTCLIENT_SUCCESS</a> if the subscription request is successful. An error code is returned if there was a problem registering the subscriptions. </dd></dl>

</div>
</div>
<a id="a9c1c28258f0d5c6a44ff53a98618f5f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c1c28258f0d5c6a44ff53a98618f5f3">&#9670;&nbsp;</a></span>MQTTClient_subscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTClient_subscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function attempts to subscribe a client to a single topic, which may contain wildcards (see <a class="el" href="wildcard.html">Subscription wildcards</a>). This call also specifies the <a class="el" href="qos.html">Quality of service</a> requested for the subscription (see also <a class="el" href="_m_q_t_t_client_8h.html#ac74a51f71dd880cda52055e0d722958e">MQTTClient_subscribeMany()</a>). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A valid client handle from a successful call to <a class="el" href="_m_q_t_t_client_8h.html#aa7a557bf48735205a0fb137468576764">MQTTClient_create()</a>. </td></tr>
    <tr><td class="paramname">topic</td><td>The subscription topic, which may include wildcards. </td></tr>
    <tr><td class="paramname">qos</td><td>The requested quality of service for the subscription. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_m_q_t_t_client_8h.html#acba095704d79e5a1996389fa26203f73">MQTTCLIENT_SUCCESS</a> if the subscription request is successful. An error code is returned if there was a problem registering the subscription. </dd></dl>

</div>
</div>
<a id="a50abbce720d50b9f84b97ff9fa1f546d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50abbce720d50b9f84b97ff9fa1f546d">&#9670;&nbsp;</a></span>MQTTClient_unsubscribeMany()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTClient_unsubscribeMany </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *const *&#160;</td>
          <td class="paramname"><em>topic</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function attempts to remove existing subscriptions to a list of topics made by the specified client. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A valid client handle from a successful call to <a class="el" href="_m_q_t_t_client_8h.html#aa7a557bf48735205a0fb137468576764">MQTTClient_create()</a>. </td></tr>
    <tr><td class="paramname">count</td><td>The number subscriptions to be removed. </td></tr>
    <tr><td class="paramname">topic</td><td>An array (of length <em>count</em>) of pointers to the topics of the subscriptions to be removed, each of which may include wildcards. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_m_q_t_t_client_8h.html#acba095704d79e5a1996389fa26203f73">MQTTCLIENT_SUCCESS</a> if the subscriptions are removed. An error code is returned if there was a problem removing the subscriptions. </dd></dl>

</div>
</div>
<a id="aa8731be3dbc6a25f41f037f8bbbb054b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8731be3dbc6a25f41f037f8bbbb054b">&#9670;&nbsp;</a></span>MQTTClient_unsubscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTClient_unsubscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topic</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function attempts to remove an existing subscription made by the specified client. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A valid client handle from a successful call to <a class="el" href="_m_q_t_t_client_8h.html#aa7a557bf48735205a0fb137468576764">MQTTClient_create()</a>. </td></tr>
    <tr><td class="paramname">topic</td><td>The topic for the subscription to be removed, which may include wildcards (see <a class="el" href="wildcard.html">Subscription wildcards</a>). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_m_q_t_t_client_8h.html#acba095704d79e5a1996389fa26203f73">MQTTCLIENT_SUCCESS</a> if the subscription is removed. An error code is returned if there was a problem removing the subscription. </dd></dl>

</div>
</div>
<a id="aff2dede68d660c4b6e27821669f952a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff2dede68d660c4b6e27821669f952a0">&#9670;&nbsp;</a></span>MQTTClient_publish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTClient_publish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topicName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>payloadlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>retained</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a73e49030fd8b7074aa1aa45669b7fe8d">MQTTClient_deliveryToken</a> *&#160;</td>
          <td class="paramname"><em>dt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function attempts to publish a message to a given topic (see also <a class="el" href="_m_q_t_t_client_8h.html#a83c3ee2a8491b6f07caab05abad44b39">MQTTClient_publishMessage()</a>). An <a class="el" href="_m_q_t_t_client_8h.html#a73e49030fd8b7074aa1aa45669b7fe8d">MQTTClient_deliveryToken</a> is issued when this function returns successfully. If the client application needs to test for succesful delivery of QoS1 and QoS2 messages, this can be done either asynchronously or synchronously (see <a class="el" href="async.html">Threading</a>, <a class="el" href="_m_q_t_t_client_8h.html#aab0f00551cccf85ae886f06d3405b102">MQTTClient_waitForCompletion</a> and <a class="el" href="_m_q_t_t_client_8h.html#abef83794d8252551ed248cde6eb845a6">MQTTClient_deliveryComplete()</a>). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A valid client handle from a successful call to <a class="el" href="_m_q_t_t_client_8h.html#aa7a557bf48735205a0fb137468576764">MQTTClient_create()</a>. </td></tr>
    <tr><td class="paramname">topicName</td><td>The topic associated with this message. </td></tr>
    <tr><td class="paramname">payloadlen</td><td>The length of the payload in bytes. </td></tr>
    <tr><td class="paramname">payload</td><td>A pointer to the byte array payload of the message. </td></tr>
    <tr><td class="paramname">qos</td><td>The <a class="el" href="qos.html">Quality of service</a> of the message. </td></tr>
    <tr><td class="paramname">retained</td><td>The retained flag for the message. </td></tr>
    <tr><td class="paramname">dt</td><td>A pointer to an <a class="el" href="_m_q_t_t_client_8h.html#a73e49030fd8b7074aa1aa45669b7fe8d">MQTTClient_deliveryToken</a>. This is populated with a token representing the message when the function returns successfully. If your application does not use delivery tokens, set this argument to NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_m_q_t_t_client_8h.html#acba095704d79e5a1996389fa26203f73">MQTTCLIENT_SUCCESS</a> if the message is accepted for publication. An error code is returned if there was a problem accepting the message. </dd></dl>

</div>
</div>
<a id="a5e0cfa14237d7557bee2a59747ecadd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e0cfa14237d7557bee2a59747ecadd3">&#9670;&nbsp;</a></span>MQTTClient_publishMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTClient_publishMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topicName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_m_q_t_t_client__message.html">MQTTClient_message</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a73e49030fd8b7074aa1aa45669b7fe8d">MQTTClient_deliveryToken</a> *&#160;</td>
          <td class="paramname"><em>dt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function attempts to publish a message to a given topic (see also <a class="el" href="_m_q_t_t_client_8h.html#a4ba831564fda110a340bf68502e631bf">MQTTClient_publish()</a>). An <a class="el" href="_m_q_t_t_client_8h.html#a73e49030fd8b7074aa1aa45669b7fe8d">MQTTClient_deliveryToken</a> is issued when this function returns successfully. If the client application needs to test for succesful delivery of QoS1 and QoS2 messages, this can be done either asynchronously or synchronously (see <a class="el" href="async.html">Threading</a>, <a class="el" href="_m_q_t_t_client_8h.html#aab0f00551cccf85ae886f06d3405b102">MQTTClient_waitForCompletion</a> and <a class="el" href="_m_q_t_t_client_8h.html#abef83794d8252551ed248cde6eb845a6">MQTTClient_deliveryComplete()</a>). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A valid client handle from a successful call to <a class="el" href="_m_q_t_t_client_8h.html#aa7a557bf48735205a0fb137468576764">MQTTClient_create()</a>. </td></tr>
    <tr><td class="paramname">topicName</td><td>The topic associated with this message. </td></tr>
    <tr><td class="paramname">msg</td><td>A pointer to a valid <a class="el" href="struct_m_q_t_t_client__message.html">MQTTClient_message</a> structure containing the payload and attributes of the message to be published. </td></tr>
    <tr><td class="paramname">dt</td><td>A pointer to an <a class="el" href="_m_q_t_t_client_8h.html#a73e49030fd8b7074aa1aa45669b7fe8d">MQTTClient_deliveryToken</a>. This is populated with a token representing the message when the function returns successfully. If your application does not use delivery tokens, set this argument to NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_m_q_t_t_client_8h.html#acba095704d79e5a1996389fa26203f73">MQTTCLIENT_SUCCESS</a> if the message is accepted for publication. An error code is returned if there was a problem accepting the message. </dd></dl>

</div>
</div>
<a id="a4c2df88d00a3dadd510a8cb774739366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c2df88d00a3dadd510a8cb774739366">&#9670;&nbsp;</a></span>MQTTClient_receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTClient_receive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>topicName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>topicLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_m_q_t_t_client__message.html">MQTTClient_message</a> **&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function performs a synchronous receive of incoming messages. It should be used only when the client application has not set callback methods to support asynchronous receipt of messages (see <a class="el" href="async.html">Threading</a> and <a class="el" href="_m_q_t_t_client_8h.html#ab0d69ca03e618ccff0f175c3862d009b">MQTTClient_setCallbacks()</a>). Using this function allows a single-threaded client subscriber application to be written. When called, this function blocks until the next message arrives or the specified timeout expires (see also <a class="el" href="_m_q_t_t_client_8h.html#a750a225aef2f20f3065dc8202058c985">MQTTClient_yield()</a>).</p>
<p><b>Important note:</b> The application must <a class="el" href="_heap_8h.html#affb9fc32698fab7f7b36e0cf8e64c83e">free()</a> the memory allocated to the topic and the message when processing is complete (see <a class="el" href="_m_q_t_t_client_8h.html#a8ce72761f1b720344d5f268a75c6d0ed">MQTTClient_freeMessage()</a>). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A valid client handle from a successful call to <a class="el" href="_m_q_t_t_client_8h.html#aa7a557bf48735205a0fb137468576764">MQTTClient_create()</a>. </td></tr>
    <tr><td class="paramname">topicName</td><td>The address of a pointer to a topic. This function allocates the memory for the topic and returns it to the application by setting <em>topicName</em> to point to the topic. </td></tr>
    <tr><td class="paramname">topicLen</td><td>The length of the topic. If the return code from this function is <a class="el" href="_m_q_t_t_client_8h.html#a29afebfce0bdf6cda1e37abc0c4b6690">MQTTCLIENT_TOPICNAME_TRUNCATED</a>, the topic contains embedded NULL characters and the full topic should be retrieved by using <em>topicLen</em>. </td></tr>
    <tr><td class="paramname">message</td><td>The address of a pointer to the received message. This function allocates the memory for the message and returns it to the application by setting <em>message</em> to point to the received message. The pointer is set to NULL if the timeout expires. </td></tr>
    <tr><td class="paramname">timeout</td><td>The length of time to wait for a message in milliseconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_m_q_t_t_client_8h.html#acba095704d79e5a1996389fa26203f73">MQTTCLIENT_SUCCESS</a> or <a class="el" href="_m_q_t_t_client_8h.html#a29afebfce0bdf6cda1e37abc0c4b6690">MQTTCLIENT_TOPICNAME_TRUNCATED</a> if a message is received. <a class="el" href="_m_q_t_t_client_8h.html#acba095704d79e5a1996389fa26203f73">MQTTCLIENT_SUCCESS</a> can also indicate that the timeout expired, in which case <em>message</em> is NULL. An error code is returned if there was a problem trying to receive a message. </dd></dl>

</div>
</div>
<a id="a8ad3d29864a9ca08202b0832e0f6678e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ad3d29864a9ca08202b0832e0f6678e">&#9670;&nbsp;</a></span>MQTTClient_yield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MQTTClient_yield </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When implementing a single-threaded client, call this function periodically to allow processing of message retries and to send MQTT keepalive pings. If the application is calling <a class="el" href="_m_q_t_t_client_8h.html#ab7cca95b90f5292ffb5890b6c7bd37bc">MQTTClient_receive()</a> regularly, then it is not necessary to call this function. </p>

</div>
</div>
<a id="ab8786efdd6c3a50c6ca33cfb5d8fc283"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8786efdd6c3a50c6ca33cfb5d8fc283">&#9670;&nbsp;</a></span>MQTTClient_waitForCompletion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTClient_waitForCompletion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a73e49030fd8b7074aa1aa45669b7fe8d">MQTTClient_deliveryToken</a>&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called by the client application to synchronize execution of the main thread with completed publication of a message. When called, <a class="el" href="_m_q_t_t_client_8h.html#aab0f00551cccf85ae886f06d3405b102">MQTTClient_waitForCompletion()</a> blocks execution until the message has been successful delivered or the specified timeout has expired. See <a class="el" href="async.html">Threading</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A valid client handle from a successful call to <a class="el" href="_m_q_t_t_client_8h.html#aa7a557bf48735205a0fb137468576764">MQTTClient_create()</a>. </td></tr>
    <tr><td class="paramname">dt</td><td>The <a class="el" href="_m_q_t_t_client_8h.html#a73e49030fd8b7074aa1aa45669b7fe8d">MQTTClient_deliveryToken</a> that represents the message being tested for successful delivery. Delivery tokens are issued by the publishing functions <a class="el" href="_m_q_t_t_client_8h.html#a4ba831564fda110a340bf68502e631bf">MQTTClient_publish()</a> and <a class="el" href="_m_q_t_t_client_8h.html#a83c3ee2a8491b6f07caab05abad44b39">MQTTClient_publishMessage()</a>. </td></tr>
    <tr><td class="paramname">timeout</td><td>The maximum time to wait in milliseconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_m_q_t_t_client_8h.html#acba095704d79e5a1996389fa26203f73">MQTTCLIENT_SUCCESS</a> if the message was successfully delivered. An error code is returned if the timeout expires or there was a problem checking the token. </dd></dl>

</div>
</div>
<a id="a2a617c6b0492c04a4ddea592f5e53604"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a617c6b0492c04a4ddea592f5e53604">&#9670;&nbsp;</a></span>MQTTClient_getPendingDeliveryTokens()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTClient_getPendingDeliveryTokens </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a7649e3913f9a216424d296f88a969c59">MQTTClient</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_m_q_t_t_client_8h.html#a73e49030fd8b7074aa1aa45669b7fe8d">MQTTClient_deliveryToken</a> **&#160;</td>
          <td class="paramname"><em>tokens</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function sets a pointer to an array of delivery tokens for messages that are currently in-flight (pending completion).</p>
<p><b>Important note:</b> The memory used to hold the array of tokens is <a class="el" href="_heap_8h.html#a5046e1cbf958143f3bf7aded35204202">malloc()</a>'d in this function. The client application is responsible for freeing this memory when it is no longer required. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A valid client handle from a successful call to <a class="el" href="_m_q_t_t_client_8h.html#aa7a557bf48735205a0fb137468576764">MQTTClient_create()</a>. </td></tr>
    <tr><td class="paramname">tokens</td><td>The address of a pointer to an <a class="el" href="_m_q_t_t_client_8h.html#a73e49030fd8b7074aa1aa45669b7fe8d">MQTTClient_deliveryToken</a>. When the function returns successfully, the pointer is set to point to an array of tokens representing messages pending completion. The last member of the array is set to -1 to indicate there are no more tokens. If no tokens are pending, the pointer is set to NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_m_q_t_t_client_8h.html#acba095704d79e5a1996389fa26203f73">MQTTCLIENT_SUCCESS</a> if the function returns successfully. An error code is returned if there was a problem obtaining the list of pending tokens. </dd></dl>

</div>
</div>
<a id="abe842456c914ce9201d277a972cc085e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe842456c914ce9201d277a972cc085e">&#9670;&nbsp;</a></span>MQTTClient_getVersionInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_m_q_t_t_client__name_value.html">MQTTClient_nameValue</a>* MQTTClient_getVersionInfo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns version information about the library. no trace information will be returned. </p><dl class="section return"><dt>Returns</dt><dd>an array of strings describing the library. The last entry is a NULL pointer. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a002f05835324a6cbd270ff94de6be02e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a002f05835324a6cbd270ff94de6be02e">&#9670;&nbsp;</a></span>client_timestamp_eye</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* client_timestamp_eye = &quot;MQTTClientV3_Timestamp &quot; BUILD_TIMESTAMP</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9e5c55b41667da1b47178c4a0997628c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e5c55b41667da1b47178c4a0997628c">&#9670;&nbsp;</a></span>client_version_eye</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* client_version_eye = &quot;MQTTClientV3_Version &quot; CLIENT_VERSION</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2f44b42678b96ba591f6042671e3ba6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f44b42678b96ba591f6042671e3ba6b">&#9670;&nbsp;</a></span>bstate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_client_states.html">ClientStates</a>* bstate = &amp;ClientState</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2dc95966878cf339e99ab7f7d1f7cc82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dc95966878cf339e99ab7f7d1f7cc82">&#9670;&nbsp;</a></span>state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_m_q_t_t_protocol.html">MQTTProtocol</a> state</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 19 2024 16:44:21 for Paho Asynchronous MQTT C Client Library by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
